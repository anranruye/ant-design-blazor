@namespace AntDesign
@typeparam TargetType

<CascadingValue ChildContent="ChildContent" Name="@_cascadingValueName" Value="Attributes"></CascadingValue>

@code{
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object> Attributes { get; set; } = new();

    static string _cascadingValueName;

    static CascadingAntComponentAttributes()
    {
        var targetType = typeof(TargetType);
        if (targetType.IsGenericType)
        {
            _cascadingValueName = targetType.GetGenericTypeDefinition().Name[0..^2] + "CascadingAttributes";
        }
        else
        {
            _cascadingValueName = targetType.Name + "CascadingAttributes";
        }
    }
}