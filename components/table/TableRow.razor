@namespace AntDesign
@inherits AntDomComponentBase
@implements ITableRow
@typeparam TItem
@using AntDesign.TableModels

@if (IsBody)
{
    <CascadingValue Value="_blockColumns" Name="AntDesign.Column.Blocked">
        <tr @attributes="RowAttributes"
            data-row-key="@(RowData.RowIndex-1)" 
            class="ant-table-row ant-table-row-level-@RowData.Level @(RowData.Selected ? "ant-table-row-selected" : "") @RowClassName @RowAttributes?.GetValueOrDefault("class")">
            @ChildContent
        </tr>
    </CascadingValue>
}
else if (IsHeader)
{
    <tr @attributes="RowAttributes">
        @ChildContent
    </tr>
}

@{ _blockColumns = false; }

@code {
    bool _blockColumns = false;

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [CascadingParameter(Name = "IsHeader")]
    public bool IsHeader { get; set; }

    [CascadingParameter(Name = "IsBody")]
    public bool IsBody { get; set; }

    [CascadingParameter(Name = "RowData")]
    public RowData<TItem> RowData { get; set; }

    [CascadingParameter(Name = "AntDesign.TableRow.RowIndexOfCurrentPage")]
    public int RowIndexOfCurrentPage { get; set; }

    [CascadingParameter(Name = "AntDesign.TableRow.Data")]
    public TItem Data { get; set; }

    [CascadingParameter(Name = "AntDesign.TableRow.Selected")]
    public bool Selected { get; set; }

    [CascadingParameter(Name = "AntDesign.TableRow.Expanded")]
    public bool Expanded { get; set; }

    [CascadingParameter(Name = "AntDesign.TableRow.RowAttributes")]
    public Dictionary<string, object> RowAttributes { get; set; }

    [CascadingParameter(Name = "AntDesign.TableRow.RowClassName")]
    public string RowClassName { get; set; }
}
